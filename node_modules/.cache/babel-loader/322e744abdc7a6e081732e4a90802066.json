{"remainingRequest":"/Users/richardwindsorair/Documents/GitHub/tweeteur/node_modules/babel-loader/lib/index.js!/Users/richardwindsorair/Documents/GitHub/tweeteur/node_modules/eslint-loader/index.js??ref--13-0!/Users/richardwindsorair/Documents/GitHub/tweeteur/src/router/index.js","dependencies":[{"path":"/Users/richardwindsorair/Documents/GitHub/tweeteur/src/router/index.js","mtime":1602170786073},{"path":"/Users/richardwindsorair/Documents/GitHub/tweeteur/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/richardwindsorair/Documents/GitHub/tweeteur/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/richardwindsorair/Documents/GitHub/tweeteur/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9yaWNoYXJkd2luZHNvcmFpci9Eb2N1bWVudHMvR2l0SHViL3R3ZWV0ZXVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgY3JlYXRlUm91dGVyLCBjcmVhdGVXZWJIaXN0b3J5IH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSc7CmltcG9ydCB7IHVzZXJzIH0gZnJvbSAiLi4vYXNzZXRzL3VzZXJzIjsKaW1wb3J0IEhvbWUgZnJvbSAnLi4vdmlld3MvSG9tZS52dWUnOwppbXBvcnQgVXNlclByb2ZpbGUgZnJvbSAiLi4vdmlld3MvVXNlclByb2ZpbGUiOwppbXBvcnQgQWRtaW4gZnJvbSAiLi4vdmlld3MvQWRtaW4iOwp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAnLycsCiAgbmFtZTogJ0hvbWUnLAogIGNvbXBvbmVudDogSG9tZQp9LCB7CiAgcGF0aDogJy91c2VyLzp1c2VySWQnLAogIG5hbWU6ICdVc2VyUHJvZmlsZScsCiAgY29tcG9uZW50OiBVc2VyUHJvZmlsZQp9LCB7CiAgcGF0aDogJy9hZG1pbicsCiAgbmFtZTogJ0FkbWluJywKICBjb21wb25lbnQ6IEFkbWluLAogIG1ldGE6IHsKICAgIHJlcXVpcmVzQWRtaW46IHRydWUKICB9Cn1dOwp2YXIgcm91dGVyID0gY3JlYXRlUm91dGVyKHsKICBoaXN0b3J5OiBjcmVhdGVXZWJIaXN0b3J5KCksCiAgcm91dGVzOiByb3V0ZXMKfSk7CnJvdXRlci5iZWZvcmVFYWNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHRvLCBmcm9tLCBuZXh0KSB7CiAgICB2YXIgdXNlciwgaXNBZG1pbiwgcmVxdWlyZXNBZG1pbjsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgdXNlciA9IHN0b3JlLnN0YXRlLlVzZXIudXNlcjsKCiAgICAgICAgICAgIGlmICh1c2VyKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goJ1VzZXIvc2V0VXNlcicsIHVzZXJzWzBdKTsKCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGlzQWRtaW4gPSBmYWxzZTsKICAgICAgICAgICAgcmVxdWlyZXNBZG1pbiA9IHRvLm1hdGNoZWQuc29tZShmdW5jdGlvbiAocmVjb3JkKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlY29yZC5tZXRhLnJlcXVpcmVzQWRtaW47CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAocmVxdWlyZXNBZG1pbiAmJiAhaXNBZG1pbikgbmV4dCh7CiAgICAgICAgICAgICAgbmFtZTogJ0hvbWUnCiAgICAgICAgICAgIH0pO2Vsc2UgbmV4dCgpOwoKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gsIF94MiwgX3gzKSB7CiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["/Users/richardwindsorair/Documents/GitHub/tweeteur/src/router/index.js"],"names":["createRouter","createWebHistory","store","users","Home","UserProfile","Admin","routes","path","name","component","meta","requiresAdmin","router","history","beforeEach","to","from","next","user","state","User","dispatch","isAdmin","matched","some","record"],"mappings":";;;AAAA,SAASA,YAAT,EAAuBC,gBAAvB,QAA+C,YAA/C;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,SAASC,KAAT,QAAsB,iBAAtB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AAEA,IAAMC,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAEN;AAHb,CADa,EAMb;AACEI,EAAAA,IAAI,EAAE,eADR;AAEEC,EAAAA,IAAI,EAAE,aAFR;AAGEC,EAAAA,SAAS,EAAEL;AAHb,CANa,EAWb;AACEG,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGEC,EAAAA,SAAS,EAAEJ,KAHb;AAIEK,EAAAA,IAAI,EAAE;AACJC,IAAAA,aAAa,EAAE;AADX;AAJR,CAXa,CAAf;AAqBA,IAAMC,MAAM,GAAGb,YAAY,CAAC;AAC1Bc,EAAAA,OAAO,EAAEb,gBAAgB,EADC;AAE1BM,EAAAA,MAAM,EAANA;AAF0B,CAAD,CAA3B;AAKAM,MAAM,CAACE,UAAP;AAAA,qEAAkB,iBAAOC,EAAP,EAAWC,IAAX,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AACVC,YAAAA,IADU,GACHjB,KAAK,CAACkB,KAAN,CAAYC,IAAZ,CAAiBF,IADd;;AAAA,gBAGXA,IAHW;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAIRjB,KAAK,CAACoB,QAAN,CAAe,cAAf,EAA+BnB,KAAK,CAAC,CAAD,CAApC,CAJQ;;AAAA;AAOVoB,YAAAA,OAPU,GAOA,KAPA;AAQVX,YAAAA,aARU,GAQMI,EAAE,CAACQ,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,qBAAIA,MAAM,CAACf,IAAP,CAAYC,aAAhB;AAAA,aAAtB,CARN;AAUhB,gBAAIA,aAAa,IAAI,CAACW,OAAtB,EAA+BL,IAAI,CAAC;AAAET,cAAAA,IAAI,EAAE;AAAR,aAAD,CAAJ,CAA/B,KACKS,IAAI;;AAXO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;AAcA,eAAeL,MAAf","sourcesContent":["import { createRouter, createWebHistory } from 'vue-router';\nimport store from '../store';\nimport { users } from \"../assets/users\";\nimport Home from '../views/Home.vue'\nimport UserProfile from \"../views/UserProfile\";\nimport Admin from \"../views/Admin\";\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home\n  },\n  {\n    path: '/user/:userId',\n    name: 'UserProfile',\n    component: UserProfile\n  },\n  {\n    path: '/admin',\n    name: 'Admin',\n    component: Admin,\n    meta: {\n      requiresAdmin: true\n    }\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n})\n\nrouter.beforeEach(async (to, from, next) => {\n  const user = store.state.User.user;\n\n  if (!user) {\n    await store.dispatch('User/setUser', users[0]);\n  }\n\n  const isAdmin = false;\n  const requiresAdmin = to.matched.some(record => record.meta.requiresAdmin);\n\n  if (requiresAdmin && !isAdmin) next({ name: 'Home' });\n  else next();\n})\n\nexport default router\n"]}]}